#!/bin/sh

# Exit on errors and undefined variables
set -eu

# Ensure the script is run as root
if [ "$(id -u)" -ne 0 ]; then
    echo "$(date): This script must be run as root. Use sudo or run as root."
    exit 1
fi

CONFIG_FILE="@CONFIG_FILE@"

# Source the configuration file
. "$CONFIG_FILE"

log() {
    @LOG_COMMAND@
}

log "$(date): Restarting Minecraft server..."
@RESTART_COMMAND@
log "$(date): Minecraft server restarted."
